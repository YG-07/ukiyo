import{d as ne,r as i,k as le,j as oe,U as l,o as s,V as o,W as t,X as n,b as d,e as N,$ as x,P as e,z as T,v as W,Y as r,c as S,N as U,F as M,a4 as ue,a0 as ie,a2 as re,s as D,Z as ce,_ as pe}from"./@vue-5600d395.js";import{W as de}from"./WavesEffectCard-10f22a3f.js";import{c as _e,L as me,H as ye,M as ve,q as fe}from"./index-14828061.js";import{C as he}from"./CommonIcon-bfbb031a.js";import{A as ge}from"./@vicons-c53b9e6c.js";import{e as we,u as ze}from"./naive-ui-ae92ea56.js";import{_ as ke}from"./plugin-vueexport-helper-d7c00f7c.js";import"./lodash-7b9fd68c.js";import"./date-fns-d101b321.js";import"./moment-b35f754a.js";import"./mitt-dab1f1cb.js";import"./css-render-99fcc978.js";import"./@emotion-e1dc9e92.js";import"./@css-render-5e321065.js";import"./seemly-ab171afc.js";import"./lodash-es-882891f9.js";import"./vooks-d8282700.js";import"./evtd-3bd1ff11.js";import"./vueuc-e5d9b751.js";import"./vdirs-c82cf9c8.js";import"./@juggle-d50e7493.js";import"./treemate-97ea80b9.js";import"./date-fns-tz-94aca45e.js";import"./async-validator-9e2b95c0.js";const V=C=>(ce("data-v-5386f494"),C=C(),pe(),C),xe=V(()=>d("h2",null,"\u9A71\u52A8\u76D8",-1)),Se=N("\u641C\u7D22"),Ce=N("\u91CD\u7F6E\u6761\u4EF6"),Fe={class:"line-area"},Ae=V(()=>d("div",{class:"label"},"2\u4EF6\u5957",-1)),Ee={class:"info"},be={class:"line-area"},De=V(()=>d("div",{class:"label"},"4\u4EF6\u5957",-1)),Ne={class:"info"},Be=ne({__name:"Suit",setup(C){const f=i(_e()),_=i(!1),B=we(),j=ze(),I=i({});let P=!0,z=i({pageNum:1,pageSize:100}),m=i(P),F=i(""),A=i(-2),E=i(0),k=i([]),y=i(`
    ${f.value?"margin: 20px;":"margin:2px; gap: 8px 5px;"}
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
  `);const H=a=>{A.value=a,h(1)},X=a=>{F.value=a},Y=a=>{h(1)},G=()=>{F.value="",A.value=-2,h(1)},J=a=>{z.value.pageSize=a,h(1)},O=a=>[D("div",{style:{display:"flex",alignItems:"center"}},{default:()=>[a.value>0?D(he,{url:I.value[a.value].icon_url,size:30},{default:()=>D("")}):void 0,D("span",{},{default:()=>a.label})]})],q=i({}),K=async()=>{B.start(),_.value=!0;let a={name:F.value,suit:A.value,page:z.value},{code:g,data:p,msg:L}=await ve(a);if(g!=200){j.error(L),setTimeout(()=>{B.finish()},500),_.value=!1;return}E.value=p.total;const{zzz_base:b,zzz_url:c}=await fe(),Z=`${b}${c}`;k.value=p==null?void 0:p.records.map(v=>(v.surl=Z.replace("{id}",v.mhy_url),v.imgSrc=v.icon_url,v)),setTimeout(()=>{B.finish()},500),_.value=!1},h=async a=>{z.value.pageNum=a,k.value=[],E.value=0,K()};return le(async()=>{I.value={},me.forEach(a=>{I.value[a.id]=a}),q.value=await ye()}),oe(()=>{K()}),(a,g)=>{const p=l("n-skeleton"),L=l("n-gradient-text"),b=l("n-layout-header"),c=l("n-space"),Z=l("n-select"),v=l("n-input"),R=l("n-button"),Q=l("n-divider"),ee=l("n-icon"),te=l("n-empty"),ae=l("n-layout-content"),se=l("n-pagination"),$=l("n-layout");return s(),o($,null,{default:t(()=>[n(b,{class:"header-top"},{default:t(()=>[d("div",null,[xe,_.value?(s(),o(p,{key:0,width:150,sharp:!1,size:"medium"})):(s(),o(L,{key:1,gradient:{from:"rgb(85, 85, 85)",to:"rgb(170, 170, 170)"}},{default:t(()=>[N(" \u5171"+x(e(E))+"\u4F4D\uFF0C\u5DF2\u5C55\u793A"+x(e(k).length)+"\u4E2A ",1)]),_:1},8,["gradient"]))])]),_:1}),n($,null,{default:t(()=>[n(b,null,{default:t(()=>[_.value?T((s(),o(c,{key:0,style:r(e(y))},{default:t(()=>[(s(!0),S(M,null,U(new Array(8),(u,w)=>(s(),o(p,{key:w,width:200,sharp:!1,size:"medium"}))),128))]),_:1},8,["style"])),[[W,e(m)]]):T((s(),o(c,{key:1,class:"space-main",style:r(e(y))},{default:t(()=>{var u;return[n(Z,{"render-label":O,value:e(A),"onUpdate:value":H,options:(u=q.value)==null?void 0:u.suit,style:r(f.value?"width: 200px":"")},null,8,["value","options","style"]),n(v,{value:e(F),onKeyup:ue(Y,["enter"]),"onUpdate:value":X,type:"text",placeholder:"\u641C\u7D22\u5173\u952E\u5B57",style:r(f.value?"width: 200px":"min-width: 200px;")},null,8,["value","onKeyup","style"]),n(c,{style:r(f.value?"flex:1;":"min-width: 200px;")},{default:t(()=>[n(R,{type:"success",style:{width:"84px"},onClick:g[0]||(g[0]=w=>h(1))},{default:t(()=>[Se]),_:1}),n(R,{type:"warning",onClick:G},{default:t(()=>[Ce]),_:1})]),_:1},8,["style"])]}),_:1},8,["style"])),[[W,e(m)]]),f.value?re("",!0):(s(),o(Q,{key:2,onClick:g[1]||(g[1]=u=>ie(m)?m.value=!e(m):m=!e(m))},{default:t(()=>[N(x(e(m)?"\u6536\u8D77\u641C\u7D22":"\u5C55\u5F00\u641C\u7D22"),1)]),_:1}))]),_:1}),n(ae,{"has-sider":""},{default:t(()=>[_.value?(s(),o(c,{key:0,style:r(e(y))},{default:t(()=>[(s(!0),S(M,null,U(new Array(20),(u,w)=>(s(),S("div",{key:w},[n(p,{width:100,height:123,sharp:!1,size:"medium"})]))),128))]),_:1},8,["style"])):!_.value&&e(k).length>0?(s(),o(c,{key:1,style:r(e(y))},{default:t(()=>[(s(!0),S(M,null,U(e(k),(u,w)=>(s(),S("div",{key:w,style:{display:"flex",height:"100%"}},[n(de,{src:u.imgSrc,item:u,url:u.surl,style:{height:"100%"}},{default:t(()=>[d("div",{class:"effect-info-area",style:r(`${f.value?"width: 15vw;":"width: 30vw;"}`)},[d("div",Fe,[Ae,d("div",Ee,x(u.suit2),1)]),d("div",be,[De,d("div",Ne,x(u.suit4),1)])],4)]),_:2},1032,["src","item","url"])]))),128))]),_:1},8,["style"])):(s(),o(c,{key:2,style:r([{width:"100%"},e(y)])},{default:t(()=>[n(te,{description:"\u6240\u9009\u6761\u4EF6\u7684\u6570\u636E\u4E3A\u7A7A"},{icon:t(()=>[n(ee,null,{default:t(()=>[n(e(ge))]),_:1})]),_:1})]),_:1},8,["style"]))]),_:1}),n($,{"content-style":"overflow-x: scroll;"},{default:t(()=>[_.value?(s(),o(c,{key:0,style:r(e(y))},{default:t(()=>[n(p,{width:300,sharp:!1,size:"medium"})]),_:1},8,["style"])):(s(),o(c,{key:1,style:r(e(y))},{default:t(()=>[n(se,{page:e(z).pageNum,"page-size":e(z).pageSize,"item-count":e(E),"on-update:page":h,"show-size-picker":"","page-sizes":[10,50,100,150],"on-update:page-size":J},null,8,["page","page-size","item-count"])]),_:1},8,["style"]))]),_:1})]),_:1})]),_:1})}}});const st=ke(Be,[["__scopeId","data-v-5386f494"]]);export{st as default};
